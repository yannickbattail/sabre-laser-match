import { Regle } from "./Regle.js";
import { MatchState, MatchStatus } from "./MatchState.js";
import { CombattantCouleur, EvenementCarton, EvenementTouche, } from "./Evenement.js";
import { CartonCouleur } from "./Carton.js";
import { MatchModel } from "./MatchModel.js";
import { EventLogCarton, EventLogMortSubite, EventLogTouche, } from "./EventLog.js";
import { ToucheNom } from "./Touche.js";
import { MortSubite } from "./MortSubite.js";
function test1(regle) {
    const matchState = new MatchState();
    matchState.historique.push(new EvenementCarton(0, CombattantCouleur.rouge, CartonCouleur.jaune));
    const matchModel = new MatchModel(matchState, regle);
    if (matchModel.scores.rouge !== 0 || matchModel.scores.vert !== 3) {
        console.error("Test1 failed", matchModel);
    }
    if (matchModel.eventLog.length !== 1 &&
        !(matchModel.eventLog[0] instanceof EventLogCarton)) {
        console.error("Test3 eventLog failed", matchModel);
    }
    console.log("Test1 passed");
}
function test2(regle) {
    const matchState = new MatchState();
    matchState.historique.push(new EvenementTouche(0, CombattantCouleur.rouge, ToucheNom.bras));
    const matchModel = new MatchModel(matchState, regle);
    if (matchModel.scores.rouge !== 3 || matchModel.scores.vert !== 0) {
        console.error("Test2 failed", matchModel);
    }
    if (matchModel.eventLog.length !== 1 &&
        !(matchModel.eventLog[0] instanceof EventLogTouche)) {
        console.error("Test3 eventLog failed", matchModel);
    }
    console.log("Test2 passed");
}
function test3(regle) {
    const matchState = new MatchState();
    matchState.status = MatchStatus.en_cours;
    matchState.historique.push(new EvenementTouche(0, CombattantCouleur.rouge, ToucheNom.tete));
    matchState.historique.push(new EvenementTouche(2, CombattantCouleur.rouge, ToucheNom.tete));
    matchState.historique.push(new EvenementTouche(4, CombattantCouleur.vert, ToucheNom.tete));
    matchState.historique.push(new EvenementTouche(6, CombattantCouleur.vert, ToucheNom.tete));
    const matchModel = new MatchModel(matchState, regle);
    if (matchModel.scores.rouge !== 10 || matchModel.scores.vert !== 10) {
        console.error("Test3 score 10 failed", matchModel);
    }
    if (matchModel.mortSubite !== MortSubite.limite) {
        console.error("Test3 MortSubite failed", matchModel);
    }
    if (matchState.status !== MatchStatus.en_cours) {
        console.error("Test3 MortSubite failed", matchModel);
    }
    if (matchModel.eventLog.length !== 5 &&
        !(matchModel.eventLog[5] instanceof EventLogMortSubite)) {
        console.error("Test3 eventLog failed", matchModel);
    }
    console.log("Test3 passed");
}
function test4(regle) {
    const matchState = new MatchState();
    matchState.status = MatchStatus.en_cours;
    matchState.historique.push(new EvenementTouche(0, CombattantCouleur.rouge, ToucheNom.tete));
    matchState.historique.push(new EvenementTouche(6, CombattantCouleur.vert, ToucheNom.tete));
    matchState.time = regle.duree + 2;
    const matchModel = new MatchModel(matchState, regle);
    if (matchModel.scores.rouge !== 5 || matchModel.scores.vert !== 5) {
        console.error("Test4 score 10 failed", matchModel);
    }
    if (matchModel.mortSubite !== MortSubite.prolongation) {
        console.error("Test4 MortSubite failed", matchModel);
    }
    if (matchState.status !== MatchStatus.en_cours) {
        console.error("Test4 status failed", matchModel);
    }
    if (matchModel.eventLog.length !== 3 &&
        !(matchModel.eventLog[5] instanceof EventLogMortSubite)) {
        console.error("Test4 eventLog failed", matchModel);
    }
    console.log("Test4 passed");
}
export function tests() {
    const regle = Regle.getRegleByNom("testing");
    test1(regle);
    test2(regle);
    test3(regle);
    test4(regle);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVzdHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJ0ZXN0cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sWUFBWSxDQUFDO0FBQ25DLE9BQU8sRUFBRSxVQUFVLEVBQUUsV0FBVyxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDMUQsT0FBTyxFQUNMLGlCQUFpQixFQUNqQixlQUFlLEVBQ2YsZUFBZSxHQUNoQixNQUFNLGdCQUFnQixDQUFDO0FBQ3hCLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFDNUMsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQzdDLE9BQU8sRUFDTCxjQUFjLEVBQ2Qsa0JBQWtCLEVBQ2xCLGNBQWMsR0FDZixNQUFNLGVBQWUsQ0FBQztBQUN2QixPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBQ3hDLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUU3QyxTQUFTLEtBQUssQ0FBQyxLQUFZO0lBQ3pCLE1BQU0sVUFBVSxHQUFHLElBQUksVUFBVSxFQUFFLENBQUM7SUFDcEMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQ3hCLElBQUksZUFBZSxDQUFDLENBQUMsRUFBRSxpQkFBaUIsQ0FBQyxLQUFLLEVBQUUsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUNyRSxDQUFDO0lBQ0YsTUFBTSxVQUFVLEdBQUcsSUFBSSxVQUFVLENBQUMsVUFBVSxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQ3JELElBQUksVUFBVSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEtBQUssQ0FBQyxJQUFJLFVBQVUsQ0FBQyxNQUFNLENBQUMsSUFBSSxLQUFLLENBQUMsRUFBRSxDQUFDO1FBQ2xFLE9BQU8sQ0FBQyxLQUFLLENBQUMsY0FBYyxFQUFFLFVBQVUsQ0FBQyxDQUFDO0lBQzVDLENBQUM7SUFDRCxJQUNFLFVBQVUs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