<!DOCTYPE html>
<html lang="fr">
<head>
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <meta charset="utf-8">
    <link href="manifest.json" rel="manifest"/>
    <link href="images/light-sabers-couleur.svg" rel="icon" type="image/svg+xml"/>
    <link href="style.css" rel="stylesheet"/>
    <title>Match sabre laser</title>
</head>
<body class="dark">
<div id="background-image"></div>
<div id="combat" style="display: block">
    <div style="text-align: left">
        <div style="display: inline-block">
            <button id="play" onclick="gui.play()" style="display: inline-block">
                <img alt="démarrer le combat" src="images/play.svg" title="démarrer le combat"/>
            </button>
            <button id="pause" onclick="gui.play()" style="display: none">
                <img alt="mettre en pause le combat" src="images/pause.svg" title="mettre en pause le combat"/>
            </button>
            <button id="reset" onclick="gui.reset()">
                <img alt="Nouveau combat" src="images/light-sabers-couleur.svg" title="Nouveau combat"/>
            </button>
            <button onclick="gui.annuler()">
                <img alt="Supprimer la dernière action" src="images/abort.svg" title="Supprimer la dernière action"/>
            </button>
            <button onclick="gui.showConfig()">
                <img alt="Configuration" src="images/gear.svg" title="Configuration"/>
            </button>
        </div>
        <div id="time" style="display: inline-block">00:00</div>
        <div id="message" style="display: inline-block">Prêt?</div>

    </div>
    <table id="tableCombattants">
        <thead>
        <tr>
            <th><span class="vertCombattant">Vert</span></th>
            <th><span class="rougeCombattant">Rouge</span></th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td id="scoreVert">
                0
            </td>
            <td id="scoreRouge">
                0
            </td>
        </tr>
        <tr>
            <td id="touchesVert"></td>
            <td id="touchesRouge"></td>
        </tr>
        <tr>
            <td id="cartonsVert"></td>
            <td id="cartonsRouge"></td>
        </tr>
        </tbody>
    </table>
    <div id="historique"></div>
</div>
<div id="config" style="display: none">
    <div>
        <h2 style="display: inline-block">Configuration</h2>
        <button onclick="gui.hideConfig()">[X]</button>
    </div>
    Décompte des points d'un match de sabre laser au plus proche de la
    <a href="https://www.ffescrime.fr/media-documents/?thematic=sabre-laser">FFE</a>.<br/>
    <div style="align-content: center; text-align: center">
        <label for="changeRegle">Règles:</label>
        <select id="changeRegle" onchange="gui.changeRegle()">
            <option value="FFE">FFE</option>
            <option value="testing">testing</option>
        </select>
        <div id="ruleEditor">
            Modification de la règle "personnalisée":<br/>
            <table style="display: inline-table">
                <tr>
                    <td><label for="duree">Durée du match (sec)</label></td>
                    <td><input id="duree" max="1200" min="5" onchange="gui.changeValeurRegles(this)" step="5"
                               type="number"
                               value="180"/></td>
                </tr>
                <tr>
                    <td><label for="prolongation">Durée de la prolongation (sec)</label></td>
                    <td><input id="prolongation" max="180" min="0" onchange="gui.changeValeurRegles(this)" step="1"
                               type="number"
                               value="30"/></td>
                </tr>
                <tr>
                    <td><label for="mortSubiteScore">Score mort subite</label></td>
                    <td><input id="mortSubiteScore" max="100" min="0" onchange="gui.changeValeurRegles(this)" step="1"
                               type="number"
                               value="10"/></td>
                </tr>
                <tr>
                    <td><label for="scoreMax">Score gagnant</label></td>
                    <td><input id="scoreMax" max="100" min="1" onchange="gui.changeValeurRegles(this)" step="1"
                               type="number"
                               value="15"/></td>
                </tr>
                <tr>
                    <td>Touches</td>
                    <td>
                        <label for="touche_main">
                            <img alt="touche main" src="images/main.svg" title="touche main"/>
                        </label>
                        <input id="touche_main" max="100" min="1" onchange="gui.changeValeurRegles(this)" step="1"
                               type="number" value="1"/>
                        <label for="touche_bras">
                            <img alt="touche bras" src="images/bras.svg" title="touche bras"/>
                        </label>
                        <input id="touche_bras" max="100" min="1" onchange="gui.changeValeurRegles(this)" step="1"
                               type="number" value="3"/>
                        <label for="touche_jambe">
                            <img alt="touche jambe" src="images/jambe.svg" title="touche jambe"/>
                        </label>
                        <input id="touche_jambe" max="100" min="1" onchange="gui.changeValeurRegles(this)" step="1"
                               type="number" value="3"/>
                        <label for="touche_tronc">
                            <img alt="touche tronc" src="images/tronc.svg" title="touche tronc"/>
                        </label>
                        <input id="touche_tronc" max="100" min="1" onchange="gui.changeValeurRegles(this)" step="1"
                               type="number" value="5"/>
                        <label for="touche_tête">
                            <img alt="touche tête" src="images/tete.svg" title="touche tête"/>
                        </label>
                        <input id="touche_tête" max="100" min="1" onchange="gui.changeValeurRegles(this)" step="1"
                               type="number" value="5"/>
                    </td>
                </tr>
            </table>
        </div>
    </div>
    <br/>
    Les sources sont dispo <a href="https://github.com/yannickbattail/sabre-laser-match">ici</a>.<br/>
    Si vous avez des idées d'amélioration ou un bug, n'hésitez à créer un ticket
    <a href="https://github.com/yannickbattail/sabre-laser-match/issues">ici</a>.<br/>
    <br/>
    Les icônes viennent de <a href="https://game-icons.net/">game-icons.net</a>.<br/>
</div>
<script type="module">
    import {MatchState} from "./MatchState.js";
    import {Gui} from "./Gui.js";
    import {tests} from "./tests.js";

    window.gui = new Gui(new MatchState());
    tests();
</script>
</body>
</html>
