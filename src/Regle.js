import { Carton, CartonCouleur } from "./Carton.js";
import { Touche, ToucheNom } from "./Touche.js";
import { _throw } from "./throw.js";
import { CombattantCouleur } from "./Evenement.js";
export class Regle {
    nom;
    cartons;
    touches;
    duree;
    prolongation;
    mortSubiteScore;
    scoreMax;
    static REGLES = [
        new Regle("FFE", [
            new Carton(CartonCouleur.blanc, 0, true, true, true, false, "images/carton-blanc.svg", CartonCouleur.jaune),
            new Carton(CartonCouleur.jaune, 3, true, true, true, false, "images/carton-jaune.svg", CartonCouleur.rouge),
            new Carton(CartonCouleur.rouge, 5, true, true, true, false, "images/carton-rouge.svg", CartonCouleur.noir),
            new Carton(CartonCouleur.noir, 0, true, true, true, true, "images/carton-noir.svg", CartonCouleur.noir),
        ], [
            new Touche(ToucheNom.main, 1, true, false, false, "images/main.svg"),
            new Touche(ToucheNom.bras, 3, true, false, false, "images/bras.svg"),
            new Touche(ToucheNom.jambe, 3, true, false, false, "images/jambe.svg"),
            new Touche(ToucheNom.tronc, 5, true, true, true, "images/tronc.svg"),
            new Touche(ToucheNom.tete, 5, true, true, true, "images/tete.svg"),
        ], 180, 30, 10, 15),
        new Regle("personnalisÃ©e", [
            new Carton(CartonCouleur.vert, 0, true, true, true, false, "images/carton-vert.svg", CartonCouleur.vert),
            new Carton(CartonCouleur.bleu, 0, true, true, true, false, "images/carton-bleu.svg", CartonCouleur.bleu),
            new Carton(CartonCouleur.blanc, 0, true, true, true, false, "images/carton-blanc.svg", CartonCouleur.jaune),
            new Carton(CartonCouleur.jaune, 3, true, true, true, false, "images/carton-jaune.svg", CartonCouleur.rouge),
            new Carton(CartonCouleur.rouge, 5, true, true, true, false, "images/carton-rouge.svg", CartonCouleur.noir),
            new Carton(CartonCouleur.noir, 0, true, true, true, true, "images/carton-noir.svg", CartonCouleur.noir),
        ], [
            new Touche(ToucheNom.main, 1, true, false, false, "images/main.svg"),
            new Touche(ToucheNom.bras, 3, true, false, false, "images/bras.svg"),
            new Touche(ToucheNom.jambe, 3, true, false, false, "images/jambe.svg"),
            new Touche(ToucheNom.tronc, 5, true, true, true, "images/tronc.svg"),
            new Touche(ToucheNom.tete, 5, true, true, true, "images/tete.svg"),
        ], 180, 30, 10, 15),
        new Regle("testing", [
            new Carton(CartonCouleur.vert, 0, true, true, true, false, "images/carton-vert.svg", CartonCouleur.vert),
            new Carton(CartonCouleur.bleu, 0, true, true, true, false, "images/carton-bleu.svg", CartonCouleur.bleu),
            new Carton(CartonCouleur.blanc, 0, true, true, true, false, "images/carton-blanc.svg", CartonCouleur.jaune),
            new Carton(CartonCouleur.jaune, 3, true, true, true, false, "images/carton-jaune.svg", CartonCouleur.rouge),
            new Carton(CartonCouleur.rouge, 5, true, true, true, false, "images/carton-rouge.svg", CartonCouleur.noir),
            new Carton(CartonCouleur.noir, 0, true, true, true, true, "images/carton-noir.svg", CartonCouleur.noir),
        ], [
            new Touche(ToucheNom.main, 1, true, false, false, "images/main.svg"),
            new Touche(ToucheNom.bras, 3, true, false, true, "images/bras.svg"),
            new Touche(ToucheNom.jambe, 3, true, false, true, "images/jambe.svg"),
            new Touche(ToucheNom.tronc, 5, true, true, true, "images/tronc.svg"),
            new Touche(ToucheNom.tete, 5, true, true, true, "images/tete.svg"),
        ], 10, 10, 10, 15),
    ];
    constructor(nom, cartons, touches, duree = 180, prolongation = 30, mortSubiteScore = 10, scoreMax = 15) {
        this.nom = nom;
        this.cartons = cartons;
        this.touches = touches;
        this.duree = duree;
        this.prolongation = prolongation;
        this.mortSubiteScore = mortSubiteScore;
        this.scoreMax = scoreMax;
    }
    static getRegleByNom(nomRegle) {
        return (this.REGLES.find((r) => r.nom === nomRegle) ||
            _throw(new Error(`Regle ${nomRegle} introuvable`)));
    }
    static adversaire(combattant) {
        return combattant === CombattantCouleur.vert
            ? CombattantCouleur.rouge
            : CombattantCouleur.vert;
    }
    getCarton(couleur) {
        return (this.cartons.find((c) => c.couleur === couleur) ||
            _throw(new Error(`Carton ${couleur} introuvable`)));
    }
    getCartonSuperieur(couleur) {
        return (this.getCarton(this.getCarton(couleur).cartonSuperieur) ||
            _throw(new Error(`Carton superieur de ${couleur} introuvable`)));
    }
    getTouche(nom) {
        return (this.touches.find((c) => c.nom === nom) ||
            _throw(new Error(`Touche ${nom} introuvable`)));
    }
    getTouchesMatch(match) {
        return this.touches.filter((c) => c.match === match);
    }
    getTouchesMortSubite(mortSubite) {
        return this.touches.filter((c) => c.mortSubite === mortSubite);
    }
    getTouchesProlongation(prolongation) {
        return this.touches.filter((c) => c.prolongation === prolongation);
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUmVnbGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJSZWdsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsTUFBTSxFQUFFLGFBQWEsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUNwRCxPQUFPLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUNoRCxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sWUFBWSxDQUFDO0FBQ3BDLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBRW5ELE1BQU0sT0FBTyxLQUFLO0lBcU5QO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBMU5GLE1BQU0sQ0FBQyxNQUFNLEdBQVk7UUFDOUIsSUFBSSxLQUFLLENBQ1AsS0FBSyxFQUNMO1lBQ0UsSUFBSSxNQUFNLENBQ1IsYUFBYSxDQUFDLEtBQUssRUFDbkIsQ0FBQyxFQUNELElBQUksRUFDSixJQUFJLEVBQ0osSUFBSSxFQUNKLEtBQUssRUFDTCx5QkFBeUIsRUFDekIsYUFBYSxDQUFDLEtBQUssQ0FDcEI7WUFDRCxJQUFJLE1BQU0sQ0FDUixhQUFhLENBQUMsS0FBSyxFQUNuQixDQUFDLEVBQ0QsSUFBSSxFQUNKLElBQUksRUFDSixJQUFJLEVBQ0osS0FBSyxFQUNMLHlCQUF5QixFQUN6QixhQUFhLENBQUMsS0FBSyxDQUNwQjtZQUNELElBQUksTUFBTSxDQUNSLGFBQWEsQ0FBQyxLQUFLLEVBQ25CLENBQUMsRUFDRCxJQUFJLEVBQ0osSUFBSSxFQUNKLElBQUksRUFDSixLQUFLLEVBQ0wseUJBQXlCLEVBQ3pCLGFBQWEsQ0FBQyxJQUFJLENBQ25CO1lBQ0QsSUFBSSxNQUFNLENBQ1IsYUFBYSxDQUFDLElBQUksRUFDbEIsQ0FBQyxFQUNELElBQUksRUFDSixJQUFJLEVBQ0osSUFBSSxFQUNKLElBQUksRUFDSix3QkFBd0IsRUFDeEIsYUFBYSxDQUFDLElBQUksQ0FDbkI7U0FDRixFQUNEO1lBQ0UsSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsaUJBQWlCLENBQUM7WUFDcEUsSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsaUJBQWlCLENBQUM7WUFDcEUsSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLEtBQUssRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsa0JBQWtCLENBQUM7WUFDdEUsSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLEtBQUssRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsa0JBQWtCLENBQUM7WUFDcEUsSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsaUJBQWlCLENBQUM7U0FDbkUsRUFDRCxHQUFHLEVBQ0gsRUFBRSxFQUNGLEVBQUUsRUFDRixFQUFFLENBQ0g7UUFDRCxJQUFJLEtBQUssQ0FDUCxlQUFlLEVBQ2Y7WUFDRSxJQUFJLE1BQU0sQ0FDUixhQUFhLENBQUMsSUFBSSxFQUNsQixDQUFDLEVBQ0QsSUFBSSxFQUNKLElBQUksRUFDSixJQUFJLEVBQ0osS0FBSyxFQUNMLHdCQUF3QixFQUN4QixhQUFhLENBQUMsSUFBSSxDQUNuQjtZQUNELElBQUksTUFBTSxDQUNSLGFBQWEsQ0FBQyxJQUFJLEVBQ2xCLENBQUMsRUFDRCxJQUFJLEVBQ0osSUFBSSxFQUNKLElBQUksRUFDSixLQUFLLEVBQ0wsd0JBQXdCLEVBQ3hCLGFBQWEsQ0FBQyxJQUFJLENBQ25CO1lBQ0QsSUFBSSxNQUFNLENBQ1IsYUFBYSxDQUFDLEtBQUssRUFDbkIsQ0FBQyxFQUNELElBQUksRUFDSixJQUFJLEVBQ0osSUFBSSxFQUNKLEtBQUssRUFDTCx5QkFBeUIsRUFDekIsYUFBYSxDQUFDLEtBQUssQ0FDcEI7WUFDRCxJQUFJLE1BQU0sQ0FDUixhQUFhLENBQUMsS0FBSyxFQUNuQixDQUFDLEVBQ0QsSUFBSSxFQUNKLElBQUksRUFDSixJQUFJLEVBQ0osS0FBSyxFQUNMLHlCQUF5QixFQUN6QixhQUFhLENBQUMsS0FBSyxDQUNwQjtZQUNELElBQUksTUFBTSxDQUNSLGFBQWEsQ0FBQyxLQUFLLEVBQ25CLENBQUMsRUFDRCxJQUFJLEVBQ0osSUFBSSxFQUNKLElBQUksRUFDSixLQUFLLEVBQ0wseUJBQXlCLEVBQ3pCLGFBQWEsQ0FBQyxJQUFJLENBQ25CO1lBQ0QsSUFBSSxNQUFNLENBQ1IsYUFBYSxDQUFDLElBQUksRUFDbEIsQ0FBQyxFQUNELElBQUksRUFDSixJQUFJLEVBQ0osSUFBSSxFQUNKLElBQUksRUFDSix3QkFBd0IsRUFDeEIsYUFBYSxDQUFDLElBQUksQ0FDbkI7U0FDRixFQUNEO1lBQ0UsSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsaUJBQWlCLENBQUM7WUFDcEUsSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsaUJBQWlCLENBQUM7WUFDcEUsSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLEtBQUssRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsa0JBQWtCLENBQUM7WUFDdEUsSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLEtBQUssRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsa0JBQWtCLENBQUM7WUFDcEUsSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsaUJBQWlCLENBQUM7U0FDbkUsRUFDRCxHQUFHLEVBQ0gsRUFBRSxFQUNGLEVBQUUsRUFDRixFQUFFLENBQ0g7UUFDRCxJQUFJLEtBQUssQ0FDUCxTQUFTLEVBQ1Q7WUFDRSxJQUFJLE1BQU0sQ0FDUixhQUFhLENBQUMsSUFBSSxFQUNsQixDQUFDLEVBQ0QsSUFBSSxFQUNKLElBQUksRUFDSixJQUFJLEVBQ0osS0FBSyxFQUNMLHdCQUF3QixFQUN4QixhQUFhLENBQUMsSUFBSSxDQUNuQjtZQUNELElBQUksTUFBTSxDQUNSLGFBQWEsQ0FBQyxJQUFJLEVBQ2xCLENBQUMsRUFDRCxJQUFJLEVBQ0osSUFBSSxFQUNKLElBQUksRUFDSixLQUFLLEVBQ0wsd0JBQXdCLEVBQ3hCLGFBQWEsQ0FBQyxJQUFJLENBQ25CO1lBQ0QsSUFBSSxNQUFNLENBQ1IsYUFBYSxDQUFDLEtBQUssRUFDbkIsQ0FBQyxFQUNELElBQUksRUFDSixJQUFJLEVBQ0osSUFBSSxFQUNKLEtBQUssRUFDTCx5QkFBeUIsRUFDekIsYUFBYSxDQUFDLEtBQUssQ0FDcEI7WUFDRCxJQUFJLE1BQU0sQ0FDUixhQUFhLENBQUMsS0FBSyxFQUNuQixDQUFDLEVBQ0QsSUFBSSxFQUNKLElBQUksRUFDSixJQUFJLEVBQ0osS0FBSyxFQUNMLHlCQUF5QixFQUN6QixhQUFhLENBQUMsS0FBSyxDQUNwQjtZQUNELElBQUksTUFBTSxDQUNSLGFBQWEsQ0FBQyxLQUFLLEVBQ25CLENBQUMsRUFDRCxJQUFJLEVBQ0osSUFBSSxFQUNKLElBQUksRUFDSixLQUFLLEVBQ0wseUJBQXlCLEVBQ3pCLGFBQWEsQ0FBQyxJQUFJLENBQ25CO1lBQ0QsSUFBSSxNQUFNLENBQ1IsYUFBYSxDQUFDLElBQUksRUFDbEIsQ0FBQyxFQUNELElBQUksRUFDSixJQUFJLEVBQ0osSUFBSSxFQUNKLElBQUksRUFDSix3QkFBd0IsRUFDeEIsYUFBYSxDQUFDLElBQUksQ0FDbkI7U0FDRixFQUNEO1lBQ0UsSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsaUJBQWlCLENBQUM7WUFDcEUsSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsaUJBQWlCLENBQUM7WUFDbkUsSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLEtBQUssRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsa0JBQWtCLENBQUM7WUFDckUsSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLEtBQUssRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsa0JBQWtCLENBQUM7WUFDcEUsSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsaUJBQWlCLENBQUM7U0FDbkUsRUFDRCxFQUFFLEVBQ0YsRUFBRSxFQUNGLEVBQUUsRUFDRixFQUFFLENBQ0g7S0FDRixDQUFDO0lBRUYsWUFDUyxHQUFXLEVBQ1gsT0FBaUIsRUFDakIsT0FBaUIsRUFDakIsUUFBUSxHQUFHLEVBQ1gsZUFBZSxFQUFFLEVBQ2pCLGtCQUFrQixFQUFFLEVBQ3BCLFdBQVcsRUFBRTtRQU5iLFFBQUcsR0FBSCxHQUFHLENBQVE7UUFDWCxZQUFPLEdBQVAsT0FBTyxDQUFVO1FBQ2pCLFlBQU8sR0FBUCxPQUFPLENBQVU7UUFDakIsVUFBSyxHQUFMLEtBQUssQ0FBTTtRQUNYLGlCQUFZLEdBQVosWUFBWSxDQUFLO1FBQ2pCLG9CQUFlLEdBQWYsZUFBZSxDQUFLO1FBQ3BCLGFBQVEsR0FBUixRQUFRLENBQUs7SUFDbkIsQ0FBQztJQUVHLE1BQU0sQ0FBQyxhQUFhLENBQUMsUUFBZ0I7UUFDMUMsT0FBTyxDQUNMLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxLQUFLLFFBQVEsQ0FBQztZQUMzQyxNQUFNLENBQUMsSUFBSSxLQUFLLENBQUMsU0FBUyxRQUFRLGNBQWMsQ0FBQyxDQUFDLENBQ25ELENBQUM7SUFDSixDQUFDO0lBRU0sTUFBTSxDQUFDLFVBQVUsQ0FBQyxVQUE2QjtRQUNwRCxPQUFPLFVBQVUsS0FBSyxpQkFBaUIsQ0FBQyxJQUFJO1lBQzFDLENBQUMsQ0FBQyxpQkFBaUIsQ0FBQyxLQUFLO1lBQ3pCLENBQUMsQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUM7SUFDN0IsQ0FBQztJQUVNLFNBQVMsQ0FBQyxPQUFzQjtRQUNyQyxPQUFPLENBQ0wsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxPQUFPLEtBQUssT0FBTyxDQUFDO1lBQy9DLE1BQU0sQ0FBQyxJQUFJLEtBQUssQ0FBQyxVQUFVLE9BQU8sY0FBYyxDQUFDLENBQUMsQ0FDbkQsQ0FBQztJQUNKLENBQUM7SUFFTSxrQkFBa0IsQ0FBQyxPQUFzQjtRQUM5QyxPQUFPLENBQ0wsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLGVBQWUsQ0FBQztZQUN2RCxNQUFNLENBQUMsSUFBSSxLQUFLLENBQUMsdUJBQXVCLE9BQU8sY0FBYyxDQUFDLENBQUMsQ0FDaEUsQ0FBQztJQUNKLENBQUM7SUFFTSxTQUFTLENBQUMsR0FBYztRQUM3QixPQUFPLENBQ0wsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxDQUFDO1lBQ3ZDLE1BQU0sQ0FBQyxJQUFJLEtBQUssQ0FBQyxVQUFVLEdBQUcsY0FBYyxDQUFDLENBQUMsQ0FDL0MsQ0FBQztJQUNKLENBQUM7SUFFTSxlQUFlLENBQUMsS0FBYztRQUNuQyxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsS0FBSyxLQUFLLEtBQUssQ0FBQyxDQUFDO0lBQ3ZELENBQUM7SUFFTSxvQkFBb0IsQ0FBQyxVQUFtQjtRQUM3QyxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsVUFBVSxLQUFLLFVBQVUsQ0FBQyxDQUFDO0lBQ2pFLENBQUM7SUFFTSxzQkFBc0IsQ0FBQyxZQUFxQjtRQUNqRCxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsWUFBWSxLQUFLLFlBQVksQ0FBQyxDQUFDO0lBQ3JFLENBQUMifQ==